# Тестовое задание для "АлмазГеоБур", Мусин Рим
### Структура репозтория

Директории:
- parser - Django-приложение, в котором реализован функционал по получению данных и их дальнейшей обработке ;
- env - демонстрационные файлы с переменными окружения: **.db-env** - переменные для БД, **.project-env** - переменные для Django проекта;
- nginx - Docker-файл и файл конфигурации для вэб-сервера nginx;
- project - корневая папка Django-проекта;
- supervisor - файлы для конфигурации supervisorctl, необходимы для запуска Huey (выполнение запланированных задач).

Файлы:
- .coveragerc - файл для настройки для pytest-cov; 
- docker-compose.yml - общий файл для сборки и деплоя всех составных проекта;
- Dockerfile - Docker-файл Django-проекта;
- pyproject.toml - файл настроек для pytest и ruff;
- requirements.txt - перечень используемых Python-библиотек.

### Краткая информация об использованных средствах
- Для паринга данных необходимо через REST API, реализованный с помощью Django REST Framework, или админ-панель доабвить источник для получения xml данных в формате url-адреса. На данный момент в проекте имеется фикстура для добавления двух тестовых эндпоинтов и тестовое представление для возвращающее содержимое демонстрационные данные из preview.xml;
- Для автогенерации документации API задействован drf-spectacular (SwaggerUI/Redoc);
- Для выполнения фонового получения xml данных и формирования дальнейшего промпта для llm используется библиотека huey раннер которой, запускается с помощью supervisorctl;
- Для деплоя использован вэб-сервер Nginx в связке с Gunicorn;
- В качестве линтера и форматтера кода выбран Ruff;
- Pytest для 'прогона тестов' и получения информации о покрытии. В рамках тестов задействованы Faker и Factory-boy для генерации данных;
- База данных Postgresql;
- Для настройки получения статики (например, в админ-панели и SwaggerUI) выбран WhiteNoise;


## Запуск проекта
в .project-env значение переменной DEBUG поменять на 1  

В директории репозитория ввести в консоли:
- `docker-compose build`
- `docker-compose up -d`

После запуска контейнеров проверить работоспособность перейдя по адресу: http://127.0.0.1/ (порт 80)

Для создания суперпользователя и доступа к админ-панели:
- `docker exec -ti agb_test-web-1 bash`
- `./manage.py createsuperuser`



**Пример ответа**


Аналитический отчет о продажах за 19 ноября 2024 года. Общая выручка: 90,000 рублей.

Топ-3 товара по продажам:

Носки: 250 единиц

Сыр: 100 единиц

Компьютерная мышь: 50 единиц

Распределение по категориям:

Одежда: 250 единиц

Продукты: 100 единиц

Электроника: 50 единиц

Выводы:
Доминантная категория: Одежда занимает лидирующую позицию с наибольшим количеством продаж (250 единиц). Это может свидетельствовать о сезонных трендах или успешных маркетинговых кампаниях.

Популярные товары: Носки занимают первое место по продажам, что может говорить о низкой цене или актуальности данного товара в текущий период (например, в связи с наступлением холодного сезона).

Среднекатегорийные продажи: Продукты питания, такие как сыр, также показывают сильные результаты, что может быть связано с постоянным спросом на потребительские товары.

Электроника: Хотя продажи в категории электроники меньше, чем в других категориях, наличие компьютерной мыши в топ-3 указывает на наличие интереса к определенным продуктам.

Рекомендации:
Расширение ассортимента в категории Одежда: Рассмотреть возможность увеличения ассортимента товаров в категории одежды, особенно тех, которые пользуются спросом в данный сезон.

Маркетинговые акции для электроники: Поскольку электроника имеет потенциал, стоит провести акции или скидки на товары из этой категории, чтобы повысить их продажи.

Поддержка стабильного спроса на продукты: Продолжать поддерживать высокий уровень качества и доступность продуктов питания, таких как сыр, чтобы сохранить лояльность потребителей.

Анализ рыночных трендов: Следить за изменениями в покупательских предпочтениях и адаптировать стратегию продаж в соответствии с новыми трендами и сезонными изменениями.
Эти действия помогут оптимизировать ассортимент и маркетинговые усилия, что в свою очередь может привести к увеличению продаж и выручки в будущем.
